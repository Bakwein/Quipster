{% load static %}
<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kullanıcı Dil Bilgisi</title>
  <style>
    .selected {
      background-color: lightgray; /* Tıklanan satırın arka planını gri yaparım */
    }
    .custom-table {
      width: 100%; /* Tabloyu yatayda tam genişlik yaptım*/
      border-collapse: collapse; 
  }
  tr {
    background-color: #f5f5f5; /* Açık gri */
  }
  .custom-table th, .custom-table td {
      border: 2px solid transparent;
      border-radius: 50px; 
      padding: 10px; 
  }
  
  .custom-table th {
      background-color:#888888;
      font-weight: bold;
  }
    #userLanguage {
      font-size: 12px; 
      font-weight: bold; 
      font-style: italic; 
      text-transform: uppercase; 
    }
    /* Butonları tam daire yapmak için stil */
    button {
      border-radius: 50%; 
      width: 30px; 
      height: 30px; 
      margin: 10px;
      border: none; 
    }
    /* Renk 1 butonunun arka plan rengi */
    #renk1Button {
      background-color: #ff0000; /* Kırmızı */
    }
    /* Renk 2 butonunun arka plan rengi */
    #renk2Button {
      background-color: #00ff00; /* Yeşil */
    }
    /* Renk 3 butonunun arka plan rengi */
#renk3Button {
  background-color: #0000ff; /* Mavi */
}

/* Renk 4 butonunun arka plan rengi */
#renk4Button {
  background-color: #ffff00; /* Sarı */
}

/* Renk 5 butonunun arka plan rengi */
#renk5Button {
  background-color: #ff00ff; /* Magenta */
}

    /* Butonlardaki metni gizleme*/
    button span {
      display: none;
    } 
  </style>
</head>
<body>


  <p> TERCİH ETTİĞİNİZ DİL: <span id="userLanguage"></span></p>

  <table border="2" class="custom-table">
    <caption> TERCİH EDEBİLECEĞİNİZ DİL ŞEÇENEKLERİ</caption>
    <thead>
      <tr>
        <th>Dil Kodu</th>
        <th>Dil Adı</th>
      </tr>
    </thead>
    <tbody id="languageTable">
  
    </tbody>
  </table>
  <h6>ARKA PLAN RENGİNİ DEĞİŞTİR</h6>
 <!-- Butonlar için bir konteyner -->

 <div id="renkSecimleri">
  <button id="renk1Button"><span>#ff0000</span></button>
  <button id="renk2Button"><span>#00ff00</span></button>
  <button id="renk3Button"><span>#0000ff</span></button>
  <button id="renk4Button"><span>#ffff00</span></button>
  <button id="renk5Button"><span>#ff00ff</span></button>
</div>



  <script >
   // Tarayıcının tercih ettiği dil bilgisini alma kısmını burada yaptım
var userLanguage = getCookie("user_language") || navigator.language || navigator.userLanguage;

// Dil bilgisini ekrana yazdırma
document.getElementById("userLanguage").textContent = userLanguage;

// Dil bilgisini çerezden al (eğer mevcutsa) fonksiyonu
function getCookie(name) {
  var cookieValue = null;
  if (document.cookie && document.cookie !== '') {
    var cookies = document.cookie.split(';');
    for (var i = 0; i < cookies.length; i++) {
      var cookie = cookies[i].trim();
      if (cookie.substring(0, name.length + 1) === (name + '=')) {
        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
        break;
      }
    }
  }
  return cookieValue;
}

// Tarayıcının desteklediği dillerin listesi
var supportedLanguages = [
  { code: "en", name: "English" },
  { code: "fr", name: "French" },
  { code: "de", name: "German" },
  { code: "tr", name: "Turkish" },
];

// Dil seçeneklerini tabloya ekle
var languageTable = document.getElementById("languageTable");
supportedLanguages.forEach(function(language) {
  var row = languageTable.insertRow();
  var cell1 = row.insertCell(0);
  var cell2 = row.insertCell(1);
  cell1.textContent = language.code;
  cell2.textContent = language.name;

  // Dil seçeneklerine tıklama olayı ekleme
  row.addEventListener("click", function() {
    // Seçili satırı vurgula
    var rows = languageTable.getElementsByTagName("tr");
    for (var i = 0; i < rows.length; i++) {
      rows[i].classList.remove("selected");
    }
    row.classList.add("selected");

    // Seçilen dili çerezde saklama
    document.cookie = "user_language=" + language.code + "; expires=Sat, 31 Dec 2025 12:00:00 UTC; path=/";
  });
});
 
//oop mantığını uygulama
// Renk sınıfını oluşturma
class Renk {
  constructor(renkKodu) {
    this.renkKodu = renkKodu;
  }
   // Arka plan rengini değiştiren metod
   renkDegistir() {
    document.body.style.backgroundColor = this.renkKodu;
  }
 // Buton tıklandığında renk bilgisini saklama
 sakla() {
  document.cookie = "bodyColor=" + this.renkKodu + "; expires=Sat, 31 Dec 2025 12:00:00 UTC; path=/";
}
}
 // Renk1 sınıfını Renk sınıfından türet
 class Renk1 extends Renk {
  constructor(renkKodu) {
    super(renkKodu);
  }
}
// Renk2 sınıfını Renk sınıfından türet
class Renk2 extends Renk {
  constructor(renkKodu) {
    super(renkKodu);
  }
}
// Renk3 sınıfını Renk sınıfından türet
class Renk3 extends Renk {
  constructor(renkKodu) {
    super(renkKodu);
  }
}

// Renk4 sınıfını Renk sınıfından türet
class Renk4 extends Renk {
  constructor(renkKodu) {
    super(renkKodu);
  }
}

// Renk5 sınıfını Renk sınıfından türet
class Renk5 extends Renk {
  constructor(renkKodu) {
    super(renkKodu);
  }
}
 // Butonları seçme kısmı
 const renk1Button = document.getElementById("renk1Button");
 const renk2Button = document.getElementById("renk2Button");
 const renk3Button = document.getElementById("renk3Button");
 const renk4Button = document.getElementById("renk4Button");
 const renk5Button = document.getElementById("renk5Button");
 
 // Butonlara tıklama olayları
 renk1Button.addEventListener("click", function() {
   const renk1Nesne = new Renk1("#ff0000"); // Kırmızı
   renk1Nesne.renkDegistir();
   renk1Nesne.sakla(); // Renk bilgisini sakla
 });

 renk2Button.addEventListener("click", function() {
   const renk2Nesne = new Renk2("#00ff00"); // Yeşil
   renk2Nesne.renkDegistir();
   renk2Nesne.sakla(); // Renk bilgisini sakla
 });
 
renk3Button.addEventListener("click", function() {
  const renk3Nesne = new Renk3("#0000ff"); // Mavi
  renk3Nesne.renkDegistir();
  renk3Nesne.sakla(); // Renk bilgisini sakla
});

renk4Button.addEventListener("click", function() {
  const renk4Nesne = new Renk4("#ffff00"); // Sarı
  renk4Nesne.renkDegistir();
  renk4Nesne.sakla(); // Renk bilgisini sakla
});

renk5Button.addEventListener("click", function() {
  const renk5Nesne = new Renk5("#ff00ff"); // Magenta
  renk5Nesne.renkDegistir();
  renk5Nesne.sakla(); // Renk bilgisini sakla
});


// Sayfa yüklendiğinde body rengini kontrol etme ve (eğer bir cookie varsa ona göre ayarladım yoksa kendi renği)
window.onload = function() {
  var bodyColorCookie = getCookie("bodyColor");
  if (bodyColorCookie) {
    document.body.style.backgroundColor = bodyColorCookie;
  }
};



  </script>
</body>
</html>
